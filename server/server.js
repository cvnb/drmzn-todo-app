!function(t){var e={};function o(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s="./src/server.ts")}({"./src/components/footer.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(t=>{const e=t.state.Main.todo.options;if(!e.hasData)return null;const o=e.isOneCount?"item":"items";return n.createElement("footer",{className:"footer"},n.createElement("span",{className:"todo-count"},n.createElement("strong",null,e.countNotComplete)," ",o," left"),n.createElement("ul",{className:"filters"},n.createElement("li",null,n.createElement("a",{className:e.filter.all?"selected":"",href:"#/"},"All")),n.createElement("li",null,n.createElement("a",{className:e.filter.active?"selected":"",href:"#/active"},"Active")),n.createElement("li",null,n.createElement("a",{className:e.filter.completed?"selected":"",href:"#/completed"},"Completed"))),(()=>{if(e.hasCompleted)return n.createElement("button",{className:"clear-completed"},"Clear completed")})())})},"./src/components/header.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react");e.default=n.memo(()=>n.createElement("div",{id:"header"},n.createElement("header",{className:"header"},n.createElement("h1",null,"todos"),n.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0}))))},"./src/components/root.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),i=o("react-redux"),a=o("./src/components/header.tsx"),s=o("./src/components/footer.tsx"),r=o("./src/components/todos.tsx");e.default=i.connect(function(t){return t})(t=>n.createElement("section",{className:"todoapp"},n.createElement(a.default,null),n.createElement(r.default,{state:t.state}),n.createElement(s.default,{state:t.state})))},"./src/components/todo.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),i=o("./src/config/functions.ts");e.default=n.memo(t=>{const e=t.data;return n.createElement("li",{key:e.id,"data-id":e.id,className:i.classNames(e)},n.createElement("div",{className:"view"},n.createElement("input",{className:"toggle",type:"checkbox",checked:e.isCompleted,onChange:function(){}}),n.createElement("label",null,e.text),n.createElement("button",{className:"destroy"})),n.createElement("input",{type:"text",className:"edit",defaultValue:e.text,"data-text":e.text}))})},"./src/components/todos.tsx":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("react"),i=o("./src/components/todo.tsx");e.default=n.memo(t=>{const e=t.state.Main.todo.data,o=t.state.Main.todo.options;if(!o.hasData)return null;return n.createElement("section",{className:"main"},n.createElement("input",{id:"toggle-all",className:"toggle-all",type:"checkbox",checked:o.isAllComplete,onChange:function(){}}),n.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete"),n.createElement("ul",{className:"todo-list"},e.filter(t=>t.isVisible).map(t=>n.createElement(i.default,{data:t,key:t.id}))))})},"./src/config/actions.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("object-path-immutable/index");var i;(i=e.page||(e.page={})).type="PAGE",i.dispatch=((t,e)=>{t.dispatch({type:i.type,page:e})}),i.reduce=((t,e)=>n(t).set("Main.options.mainPage",{}).set(`Main.options.mainPage.${e.page}`,!0).value()),function(t){t.type="init",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.init||(e.init={})),function(t){t.type="add",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.add||(e.add={})),function(t){t.type="edit",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.edit||(e.edit={})),function(t){t.type="remove",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.remove||(e.remove={})),function(t){t.type="toggle",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggle||(e.toggle={})),function(t){t.type="toggleAll",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggleAll||(e.toggleAll={})),function(t){t.type="filterBy",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.filterBy||(e.filterBy={})),function(t){t.type="removeCompleted",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.removeCompleted||(e.removeCompleted={})),function(t){t.type="toggleEditing",t.dispatch=((e,o,n)=>{e.dispatch({type:t.type,data:o,options:n})}),t.reduce=((t,e)=>n(t).set("Main.todo.data",e.data).set("Main.todo.options",e.options).value())}(e.toggleEditing||(e.toggleEditing={})),function(t){t.type="monitorSaga",t.dispatch=((e,o)=>{e.dispatch({type:t.type,data:o})}),t.reduce=((t,e)=>n(t).set("Main.saga.test",e.data).set("Main.saga.reducer","yoyo").value())}(e.monitorSaga||(e.monitorSaga={}))},"./src/config/functions.ts":function(t,e,o){"use strict";function n(t){return JSON.parse(JSON.stringify(t))}function i(t,e){let o="all",n="/";return"#/"===e&&(o="all",n="/"),"#/active"===e&&(o="active",n="/active"),"#/completed"===e&&(o="completed",n="/completed"),"type"===t?o:n}function a(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}function s(t,e){let o=-1;for(let n=0;n<t.length;n++){t[n].id===e&&(o=n)}return o}function r(t,e){const o=t.getState();let n={all:!0};o&&o.Main&&o.Main.todo&&o.Main.todo.options&&o.Main.todo.options.filter&&(n=Object.assign({},o.Main.todo.options.filter));const i={countTotal:0,countComplete:0,countNotComplete:0,hasCompleted:!1,isAllComplete:!1,isEditing:!1,hasData:!1,isOneCount:!1,filter:n};i.countTotal=e.length,e.forEach(t=>{t.isCompleted?i.countComplete=i.countComplete+1:i.countNotComplete=i.countNotComplete+1,t.isEditing&&(i.isEditing=!0)}),i.countComplete>0&&(i.hasCompleted=!0),e.length===i.countComplete&&(i.isAllComplete=!0),e.length>0&&(i.hasData=!0),1===i.countNotComplete&&(i.isOneCount=!0);try{localStorage.setItem("todos-drmzn",JSON.stringify(e))}catch(t){}return i}Object.defineProperty(e,"__esModule",{value:!0}),e.classNames=function(t){let e="";return t.isCompleted&&(e=`${e} completed`),t.isEditing&&(e=`${e} editing`),e.trim()},e.getProp=i,e.randomId=a,e.getIndex=s,e.computeOptions=r,e.computeInit=function(t,e){let o;try{(o=JSON.parse(localStorage.getItem("todos-drmzn"))).forEach(t=>{t.isEditing=!1})}catch(t){}o||(o=[]);const n=r(t,o),a=i("type",e);return n.filter={},n.filter[a]=!0,{data:o,options:n}},e.computeAdd=function(t,e){const o=t.getState(),i=n(o.Main.todo.data);let s=!0;o.Main.todo.options.filter.completed&&(s=!1);const c={id:a(),text:e.trim(),isCompleted:!1,isVisible:s};return i.push(c),{data:i,options:r(t,i)}},e.computeEdit=function(t,e,o){const i=n(t.getState().Main.todo.data);return i[s(i,e)].text=o.trim(),{data:i,options:r(t,i)}},e.computeRemove=function(t,e){const o=n(t.getState().Main.todo.data),i=s(o,e);return o.splice(i,1),{data:o,options:r(t,o)}},e.computeToggle=function(t,e){const o=t.getState(),i=n(o.Main.todo.data),a=s(i,e);return i[a].isCompleted=!i[a].isCompleted,o.Main.todo.options.filter.completed&&(i[a].isVisible=!!i[a].isCompleted),o.Main.todo.options.filter.active&&(i[a].isVisible=!i[a].isCompleted),{data:i,options:r(t,i)}},e.computeToggleAll=function(t){const e=t.getState(),o=n(e.Main.todo.data);let i=!0;return o.forEach(t=>{!1===t.isCompleted&&(i=!1)}),o.forEach(t=>{i?(t.isCompleted=!1,e.Main.todo.options.filter.completed&&(t.isVisible=!1),e.Main.todo.options.filter.active&&(t.isVisible=!0)):(t.isCompleted=!0,e.Main.todo.options.filter.completed&&(t.isVisible=!0),e.Main.todo.options.filter.active&&(t.isVisible=!1))}),{data:o,options:r(t,o)}},e.computeFilterBy=function(t,e="all"){const o=n(t.getState().Main.todo.data);"active"===e&&o.forEach(t=>{!1===t.isCompleted?t.isVisible=!0:t.isVisible=!1}),"completed"===e&&o.forEach(t=>{!0===t.isCompleted?t.isVisible=!0:t.isVisible=!1}),"all"===e&&o.forEach(t=>{t.isVisible=!0});const i=r(t,o);return i.filter={},i.filter[e]=!0,{data:o,options:i}},e.computeRemoveCompleted=function(t){const e=n(t.getState().Main.todo.data).filter(t=>!1===t.isCompleted);return{data:e,options:r(t,e)}},e.computeToggleEdit=function(t,e,o,i){const a=n(t.getState().Main.todo.data);if(a.forEach(t=>{t.isEditing=!1}),e&&"on"===o){const t=s(a,e);t>-1&&(a[t].isEditing=!0)}e&&i&&"off"===o&&(a[s(a,e)].text=i);return{data:a,options:r(t,a)}}},"./src/config/placeholder.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.placeholder=((t,e,o)=>`<!doctype html>\n<html lang="en">\n\t<head>\n\t\t<meta charset="utf-8">\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1">\n\t\t<title>Drmzn • TodoMVC</title>\n\t\t<link rel="stylesheet" href="/css/base.css">\n\t\t<link rel="stylesheet" href="/css/index.css">\n\t\t<link rel="stylesheet" href="/css/app.css">\n\t</head>\n\t<body>\n\t\t<div id="root">${t}</div>\n\n\t\t<footer class="info">\n\t\t\t<p>Double-click to edit a todo</p>\n\t\t\t<p>Created by <a href="mailto:alex.tzvetanov@gmail.com">Alex Tzvetanov</a></p>\n\t\t\t<p>Part of <a href="http://todomvc.com">TodoMVC</a></p>\n\t\t</footer>\n\n\t\t<script>\n      window.__PRELOADED_STATE__ = '${e}';\n    <\/script>\n\n\t\t<script src="/js/base.js"><\/script>\n    <script type="text/javascript" src="/js/main.${o}.min.js"><\/script>\n  </body>\n</html>`)},"./src/config/store.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),i=o("redux"),a=o("redux-saga"),s=o("redux-devtools-extension"),r=o("drmzn-redux");e.sagaMiddleware=a.default(),e.storeCreate=(()=>i.createStore(r.actionReducer(n),r.hydrate,s.composeWithDevTools(i.applyMiddleware(e.sagaMiddleware)))),e.store=e.storeCreate()},"./src/controllers/TodoController.ts":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o("./src/config/actions.ts"),i=o("./src/config/functions.ts");e.Todo=(t=>{return{init:e=>{const{data:o,options:a}=i.computeInit(t,e);n.init.dispatch(t,o,a)},add:e=>{const{data:o,options:a}=i.computeAdd(t,e);n.add.dispatch(t,o,a)},edit:(e,o)=>{const{data:a,options:s}=i.computeEdit(t,e,o);n.edit.dispatch(t,a,s)},remove:e=>{const{data:o,options:a}=i.computeRemove(t,e);n.remove.dispatch(t,o,a)},toggle:e=>{const{data:o,options:a}=i.computeToggle(t,e);n.toggle.dispatch(t,o,a)},toggleAll:()=>{const{data:e,options:o}=i.computeToggleAll(t);n.toggleAll.dispatch(t,e,o)},filterBy:e=>{const{data:o,options:a}=i.computeFilterBy(t,e);n.filterBy.dispatch(t,o,a)},removeCompleted:()=>{const{data:e,options:o}=i.computeRemoveCompleted(t);n.removeCompleted.dispatch(t,e,o)},toggleEditing:(e,o,a)=>{const{data:s,options:r}=i.computeToggleEdit(t,e,o,a);n.toggleEditing.dispatch(t,s,r)}}})},"./src/server.ts":function(t,e,o){"use strict";var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,a){function s(t){try{c(n.next(t))}catch(t){a(t)}}function r(t){try{c(n.throw(t))}catch(t){a(t)}}function c(t){t.done?i(t.value):new o(function(e){e(t.value)}).then(s,r)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=o("express"),a=o("compression"),s=o("https"),r=o("fs"),c=o("./src/config/store.ts"),l=o("./src/controllers/TodoController.ts"),d=o("./src/config/placeholder.ts"),p=o("drmzn-react"),u=o("./src/components/root.tsx"),m=i();m.use(a()),m.get("/",(t,e)=>n(this,void 0,void 0,function*(){const o=c.storeCreate();yield l.Todo(o).init("/"),p.ssr(d.placeholder,u.default,"0.0.2").render(o,t,e)})),m.use("/",i.static("public"));const f={key:r.readFileSync("cert.key"),cert:r.readFileSync("cert.crt")};s.createServer(f,m).listen(443)},compression:function(t,e){t.exports=require("compression")},"drmzn-react":function(t,e){t.exports=require("drmzn-react")},"drmzn-redux":function(t,e){t.exports=require("drmzn-redux")},express:function(t,e){t.exports=require("express")},fs:function(t,e){t.exports=require("fs")},https:function(t,e){t.exports=require("https")},"object-path-immutable/index":function(t,e){t.exports=require("object-path-immutable/index")},react:function(t,e){t.exports=require("react")},"react-redux":function(t,e){t.exports=require("react-redux")},redux:function(t,e){t.exports=require("redux")},"redux-devtools-extension":function(t,e){t.exports=require("redux-devtools-extension")},"redux-saga":function(t,e){t.exports=require("redux-saga")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvZm9vdGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9oZWFkZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3Jvb3QudHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG8udHN4Iiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL3RvZG9zLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL2FjdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9mdW5jdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbmZpZy9wbGFjZWhvbGRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvY29uZmlnL3N0b3JlLnRzIiwid2VicGFjazovLy8uL3NyYy9jb250cm9sbGVycy9Ub2RvQ29udHJvbGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2VydmVyLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcImNvbXByZXNzaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZHJtem4tcmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkcm16bi1yZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImV4cHJlc3NcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJmc1wiIiwid2VicGFjazovLy9leHRlcm5hbCBcImh0dHBzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwib2JqZWN0LXBhdGgtaW1tdXRhYmxlL2luZGV4XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdC1yZWR1eFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcInJlZHV4XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVkdXgtZGV2dG9vbHMtZXh0ZW5zaW9uXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwicmVkdXgtc2FnYVwiIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVhY3QiLCJkZWZhdWx0IiwibWVtbyIsInByb3BzIiwib3B0aW9ucyIsInN0YXRlIiwiTWFpbiIsInRvZG8iLCJoYXNEYXRhIiwiaXRlbVR4dCIsImlzT25lQ291bnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiY291bnROb3RDb21wbGV0ZSIsImZpbHRlciIsImFsbCIsImhyZWYiLCJhY3RpdmUiLCJjb21wbGV0ZWQiLCJoYXNDb21wbGV0ZWQiLCJjbGVhckNvbXBsZXRlZCIsImlkIiwicGxhY2Vob2xkZXIiLCJhdXRvRm9jdXMiLCJyZWFjdF9yZWR1eF8xIiwiaGVhZGVyXzEiLCJmb290ZXJfMSIsInRvZG9zXzEiLCJjb25uZWN0IiwiZnVuY3Rpb25zXzEiLCJpdGVtIiwiZGF0YSIsImRhdGEtaWQiLCJjbGFzc05hbWVzIiwidHlwZSIsImNoZWNrZWQiLCJpc0NvbXBsZXRlZCIsIm9uQ2hhbmdlIiwidGV4dCIsImRlZmF1bHRWYWx1ZSIsImRhdGEtdGV4dCIsInRvZG9fMSIsImlzQWxsQ29tcGxldGUiLCJodG1sRm9yIiwiaXNWaXNpYmxlIiwibWFwIiwiaW1tdXRhYmxlIiwicGFnZV8xIiwicGFnZSIsImRpc3BhdGNoIiwic3RvcmUiLCJyZWR1Y2UiLCJhY3Rpb24iLCJzZXQiLCJpbml0IiwiYWRkIiwiZWRpdCIsInJlbW92ZSIsInRvZ2dsZSIsInRvZ2dsZUFsbCIsImZpbHRlckJ5IiwicmVtb3ZlQ29tcGxldGVkIiwidG9nZ2xlRWRpdGluZyIsIm1vbml0b3JTYWdhIiwiY29weSIsIm9iaiIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImdldFByb3AiLCJwcm9wIiwiaGFzaCIsInVybCIsInJhbmRvbUlkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiZ2V0SW5kZXgiLCJ0b2RvSWQiLCJmb3VuZEluZGV4IiwiaW5kZXgiLCJsZW5ndGgiLCJjb21wdXRlT3B0aW9ucyIsImdldFN0YXRlIiwiZmlsdGVyU3RhdGUiLCJhc3NpZ24iLCJjb3VudFRvdGFsIiwiY291bnRDb21wbGV0ZSIsImlzRWRpdGluZyIsImZvckVhY2giLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZXJyb3IiLCJjbGFzc0xpc3QiLCJ0cmltIiwiY29tcHV0ZUluaXQiLCJnZXRJdGVtIiwiY29tcHV0ZUFkZCIsImlzVmlzaWJsZVN0YXRlIiwicHVzaCIsImNvbXB1dGVFZGl0IiwiY29tcHV0ZVJlbW92ZSIsInNwbGljZSIsImNvbXB1dGVUb2dnbGUiLCJjb21wdXRlVG9nZ2xlQWxsIiwiYWxsQ29tcGxldGVkIiwiY29tcHV0ZUZpbHRlckJ5IiwiY29tcHV0ZVJlbW92ZUNvbXBsZXRlZCIsImNvbXB1dGVUb2dnbGVFZGl0IiwiaHRtbCIsInByZWxvYWRlZFN0YXRlIiwidmVyc2lvbiIsImFjdGlvbnMiLCJyZWR1eF8xIiwicmVkdXhfc2FnYV8xIiwicmVkdXhfZGV2dG9vbHNfZXh0ZW5zaW9uXzEiLCJkcm16bl9yZWR1eF8xIiwic2FnYU1pZGRsZXdhcmUiLCJzdG9yZUNyZWF0ZSIsImNyZWF0ZVN0b3JlIiwiYWN0aW9uUmVkdWNlciIsImh5ZHJhdGUiLCJjb21wb3NlV2l0aERldlRvb2xzIiwiYXBwbHlNaWRkbGV3YXJlIiwiVG9kbyIsImV4cHJlc3MiLCJjb21wcmVzc2lvbiIsImh0dHBzIiwiZnMiLCJzdG9yZV8xIiwiVG9kb0NvbnRyb2xsZXJfMSIsInBsYWNlaG9sZGVyXzEiLCJkcm16bl9yZWFjdF8xIiwicm9vdF8xIiwiYXBwIiwidXNlIiwicmVxIiwicmVzIiwiX19hd2FpdGVyIiwidGhpcyIsInNzciIsInJlbmRlciIsInN0YXRpYyIsInJlYWRGaWxlU3luYyIsImNlcnQiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJyZXF1aXJlIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FB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QUFzTCxRQUFBLDRDQ0FBckwsRUFBQUQsUUFBQXNMLFFBQUEsNENDQUFyTCxFQUFBRCxRQUFBc0wsUUFBQSxzQ0NBQXJMLEVBQUFELFFBQUFzTCxRQUFBLDZCQ0FBckwsRUFBQUQsUUFBQXNMLFFBQUEsMkJDQUFyTCxFQUFBRCxRQUFBc0wsUUFBQSxzRENBQXJMLEVBQUFELFFBQUFzTCxRQUFBLG9EQ0FBckwsRUFBQUQsUUFBQXNMLFFBQUEsc0NDQUFyTCxFQUFBRCxRQUFBc0wsUUFBQSxvQ0NBQXJMLEVBQUFELFFBQUFzTCxRQUFBLG1EQ0FBckwsRUFBQUQsUUFBQXNMLFFBQUEsd0RDQUFyTCxFQUFBRCxRQUFBc0wsUUFBQSIsImZpbGUiOiJzZXJ2ZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gXCIuL3NyYy9zZXJ2ZXIudHNcIik7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBPcHRpb25zIH0gZnJvbSAnc3JjL2NvbmZpZy9pbnRlcmZhY2VzJztcblxuY29uc3QgRm9vdGVyID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IG9wdGlvbnM6T3B0aW9ucyA9IHByb3BzLnN0YXRlLk1haW4udG9kby5vcHRpb25zO1xuICBpZiAoIW9wdGlvbnMuaGFzRGF0YSkgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGl0ZW1UeHQgPSBvcHRpb25zLmlzT25lQ291bnQgPyAnaXRlbScgOiAnaXRlbXMnO1xuICBjb25zdCBjbGVhckNvbXBsZXRlZCA9ICgpID0+IHtcbiAgICBpZiAob3B0aW9ucy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgIHJldHVybiA8YnV0dG9uIGNsYXNzTmFtZT1cImNsZWFyLWNvbXBsZXRlZFwiPkNsZWFyIGNvbXBsZXRlZDwvYnV0dG9uPjtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoXG4gICAgPGZvb3RlciBjbGFzc05hbWU9XCJmb290ZXJcIj5cbiAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRvZG8tY291bnRcIj48c3Ryb25nPntvcHRpb25zLmNvdW50Tm90Q29tcGxldGV9PC9zdHJvbmc+IHtpdGVtVHh0fSBsZWZ0PC9zcGFuPlxuICAgICAgICA8dWwgY2xhc3NOYW1lPVwiZmlsdGVyc1wiPlxuICAgICAgICAgIDxsaT48YSBjbGFzc05hbWU9e29wdGlvbnMuZmlsdGVyLmFsbCA/ICdzZWxlY3RlZCcgOiAnJ30gaHJlZj1cIiMvXCI+QWxsPC9hPjwvbGk+XG4gICAgICAgICAgPGxpPjxhIGNsYXNzTmFtZT17b3B0aW9ucy5maWx0ZXIuYWN0aXZlID8gJ3NlbGVjdGVkJyA6ICcnfSBocmVmPVwiIy9hY3RpdmVcIj5BY3RpdmU8L2E+PC9saT5cbiAgICAgICAgICA8bGk+PGEgY2xhc3NOYW1lPXtvcHRpb25zLmZpbHRlci5jb21wbGV0ZWQgPyAnc2VsZWN0ZWQnIDogJyd9IGhyZWY9XCIjL2NvbXBsZXRlZFwiPkNvbXBsZXRlZDwvYT48L2xpPlxuICAgICAgICA8L3VsPlxuICAgICAgICB7Y2xlYXJDb21wbGV0ZWQoKX1cbiAgICA8L2Zvb3Rlcj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oRm9vdGVyKTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuY29uc3QgSGVhZGVyID0gKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgaWQ9XCJoZWFkZXJcIj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiaGVhZGVyXCI+XG4gICAgICAgIDxoMT50b2RvczwvaDE+XG4gICAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJuZXctdG9kb1wiIHBsYWNlaG9sZGVyPVwiV2hhdCBuZWVkcyB0byBiZSBkb25lP1wiIGF1dG9Gb2N1cz17dHJ1ZX0gLz5cbiAgICAgIDwvaGVhZGVyPlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgUmVhY3QubWVtbyhIZWFkZXIpO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcblxuaW1wb3J0IEhlYWRlciBmcm9tICdzcmMvY29tcG9uZW50cy9oZWFkZXInO1xuaW1wb3J0IEZvb3RlciBmcm9tICdzcmMvY29tcG9uZW50cy9mb290ZXInO1xuaW1wb3J0IFRvZG9zIGZyb20gJ3NyYy9jb21wb25lbnRzL3RvZG9zJztcblxuZnVuY3Rpb24gbWFwU3RhdGVUb1Byb3BzKHN0YXRlKSB7XG4gIHJldHVybiBzdGF0ZTtcbn1cblxuY29uc3QgQXBwID0gKHByb3BzKSA9PiB7XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwidG9kb2FwcFwiPlxuICAgICAgPEhlYWRlciAvPlxuICAgICAgPFRvZG9zIHN0YXRlPXtwcm9wcy5zdGF0ZX0gLz5cbiAgICAgIDxGb290ZXIgc3RhdGU9e3Byb3BzLnN0YXRlfSAvPlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn07XG5cbi8vIGV4cG9ydCBkZWZhdWx0IEFwcDtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QobWFwU3RhdGVUb1Byb3BzKShBcHApO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gJ3NyYy9jb25maWcvZnVuY3Rpb25zJztcbmltcG9ydCB7IFRvZG8gfSBmcm9tICdzcmMvY29uZmlnL2ludGVyZmFjZXMnO1xuXG5jb25zdCBUb2RvSXRlbSA9IChwcm9wcykgPT4ge1xuICBjb25zdCBpdGVtOlRvZG8gPSBwcm9wcy5kYXRhO1xuICBmdW5jdGlvbiBoYW5kbGVDaGFuZ2UoKSB7fVxuICByZXR1cm4gKFxuICAgIDxsaSBrZXk9e2l0ZW0uaWR9IGRhdGEtaWQ9e2l0ZW0uaWR9IGNsYXNzTmFtZT17Y2xhc3NOYW1lcyhpdGVtKX0+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInZpZXdcIj5cbiAgICAgIDxpbnB1dCBjbGFzc05hbWU9XCJ0b2dnbGVcIiB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtpdGVtLmlzQ29tcGxldGVkfSBvbkNoYW5nZT17aGFuZGxlQ2hhbmdlfSAvPlxuICAgICAgICA8bGFiZWw+e2l0ZW0udGV4dH08L2xhYmVsPlxuICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImRlc3Ryb3lcIi8+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGNsYXNzTmFtZT1cImVkaXRcIiBkZWZhdWx0VmFsdWU9e2l0ZW0udGV4dH0gZGF0YS10ZXh0PXtpdGVtLnRleHR9IC8+XG4gICAgPC9saT5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oVG9kb0l0ZW0pO1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgVG9kbywgT3B0aW9ucyB9IGZyb20gJ3NyYy9jb25maWcvaW50ZXJmYWNlcyc7XG5pbXBvcnQgVG9kb0l0ZW0gZnJvbSAnc3JjL2NvbXBvbmVudHMvdG9kbyc7XG5cbmNvbnN0IFRvZG9zID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IGRhdGE6W1RvZG9dID0gcHJvcHMuc3RhdGUuTWFpbi50b2RvLmRhdGE7XG4gIGNvbnN0IG9wdGlvbnM6T3B0aW9ucyA9IHByb3BzLnN0YXRlLk1haW4udG9kby5vcHRpb25zO1xuICBpZiAoIW9wdGlvbnMuaGFzRGF0YSkgcmV0dXJuIG51bGw7XG4gIGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSgpIHt9XG4gIHJldHVybiAoXG4gICAgPHNlY3Rpb24gY2xhc3NOYW1lPVwibWFpblwiPlxuICAgICAgPGlucHV0IGlkPVwidG9nZ2xlLWFsbFwiIGNsYXNzTmFtZT1cInRvZ2dsZS1hbGxcIiB0eXBlPVwiY2hlY2tib3hcIiBjaGVja2VkPXtvcHRpb25zLmlzQWxsQ29tcGxldGV9IG9uQ2hhbmdlPXtoYW5kbGVDaGFuZ2V9IC8+XG4gICAgICA8bGFiZWwgaHRtbEZvcj1cInRvZ2dsZS1hbGxcIj5NYXJrIGFsbCBhcyBjb21wbGV0ZTwvbGFiZWw+XG4gICAgICA8dWwgY2xhc3NOYW1lPVwidG9kby1saXN0XCI+XG4gICAgICAgIHtkYXRhLmZpbHRlcihpdGVtID0+IGl0ZW0uaXNWaXNpYmxlKS5tYXAoaXRlbSA9PiA8VG9kb0l0ZW0gZGF0YT17aXRlbX0ga2V5PXtpdGVtLmlkfSAvPil9XG4gICAgICA8L3VsPlxuICAgIDwvc2VjdGlvbj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFJlYWN0Lm1lbW8oVG9kb3MpO1xuIiwiaW1wb3J0ICogYXMgaW1tdXRhYmxlIGZyb20gJ29iamVjdC1wYXRoLWltbXV0YWJsZS9pbmRleCc7XG5cbmV4cG9ydCBuYW1lc3BhY2UgcGFnZSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ1BBR0UnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIHBhZ2UpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgcGFnZVxuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLm9wdGlvbnMubWFpblBhZ2UnLCB7fSlcbiAgICAuc2V0KGBNYWluLm9wdGlvbnMubWFpblBhZ2UuJHthY3Rpb24ucGFnZX1gLCB0cnVlKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIGluaXQge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdpbml0JztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBhZGQge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdhZGQnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIGVkaXQge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdlZGl0JztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSByZW1vdmUge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdyZW1vdmUnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIHRvZ2dsZSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ3RvZ2dsZSc7XG4gIGV4cG9ydCBjb25zdCBkaXNwYXRjaCA9IChzdG9yZSwgZGF0YSwgb3B0aW9ucykgPT4ge1xuICAgIHN0b3JlLmRpc3BhdGNoKHtcbiAgICAgIHR5cGUsXG4gICAgICBkYXRhLFxuICAgICAgb3B0aW9uc1xuICAgIH0pO1xuICB9O1xuICBleHBvcnQgY29uc3QgcmVkdWNlID0gKHN0YXRlLCBhY3Rpb24pID0+IGltbXV0YWJsZShzdGF0ZSlcbiAgICAuc2V0KCdNYWluLnRvZG8uZGF0YScsIGFjdGlvbi5kYXRhKVxuICAgIC5zZXQoJ01haW4udG9kby5vcHRpb25zJywgYWN0aW9uLm9wdGlvbnMpXG4gICAgLnZhbHVlKCk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgdG9nZ2xlQWxsIHtcbiAgZXhwb3J0IGNvbnN0IHR5cGUgPSAndG9nZ2xlQWxsJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBmaWx0ZXJCeSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ2ZpbHRlckJ5JztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSByZW1vdmVDb21wbGV0ZWQge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICdyZW1vdmVDb21wbGV0ZWQnO1xuICBleHBvcnQgY29uc3QgZGlzcGF0Y2ggPSAoc3RvcmUsIGRhdGEsIG9wdGlvbnMpID0+IHtcbiAgICBzdG9yZS5kaXNwYXRjaCh7XG4gICAgICB0eXBlLFxuICAgICAgZGF0YSxcbiAgICAgIG9wdGlvbnNcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi50b2RvLmRhdGEnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnRvZG8ub3B0aW9ucycsIGFjdGlvbi5vcHRpb25zKVxuICAgIC52YWx1ZSgpO1xufVxuXG5leHBvcnQgbmFtZXNwYWNlIHRvZ2dsZUVkaXRpbmcge1xuICBleHBvcnQgY29uc3QgdHlwZSA9ICd0b2dnbGVFZGl0aW5nJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhLCBvcHRpb25zKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGEsXG4gICAgICBvcHRpb25zXG4gICAgfSk7XG4gIH07XG4gIGV4cG9ydCBjb25zdCByZWR1Y2UgPSAoc3RhdGUsIGFjdGlvbikgPT4gaW1tdXRhYmxlKHN0YXRlKVxuICAgIC5zZXQoJ01haW4udG9kby5kYXRhJywgYWN0aW9uLmRhdGEpXG4gICAgLnNldCgnTWFpbi50b2RvLm9wdGlvbnMnLCBhY3Rpb24ub3B0aW9ucylcbiAgICAudmFsdWUoKTtcbn1cblxuZXhwb3J0IG5hbWVzcGFjZSBtb25pdG9yU2FnYSB7XG4gIGV4cG9ydCBjb25zdCB0eXBlID0gJ21vbml0b3JTYWdhJztcbiAgZXhwb3J0IGNvbnN0IGRpc3BhdGNoID0gKHN0b3JlLCBkYXRhKSA9PiB7XG4gICAgc3RvcmUuZGlzcGF0Y2goe1xuICAgICAgdHlwZSxcbiAgICAgIGRhdGFcbiAgICB9KTtcbiAgfTtcbiAgZXhwb3J0IGNvbnN0IHJlZHVjZSA9IChzdGF0ZSwgYWN0aW9uKSA9PiBpbW11dGFibGUoc3RhdGUpXG4gICAgLnNldCgnTWFpbi5zYWdhLnRlc3QnLCBhY3Rpb24uZGF0YSlcbiAgICAuc2V0KCdNYWluLnNhZ2EucmVkdWNlcicsICd5b3lvJylcbiAgICAudmFsdWUoKTtcbn1cbiIsImltcG9ydCB7IFN0b3JlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IHsgVG9kbywgT3B0aW9ucyB9IGZyb20gJ3NyYy9jb25maWcvaW50ZXJmYWNlcyc7XG5cbmZ1bmN0aW9uIGNvcHkob2JqKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG9iaikpO1xufVxuXG4vLyBnZXQgY2xhc3Nlc1xuZXhwb3J0IGZ1bmN0aW9uIGNsYXNzTmFtZXMoaXRlbSkge1xuICBsZXQgY2xhc3NMaXN0ID0gJyc7XG4gIGlmIChpdGVtLmlzQ29tcGxldGVkKSB7XG4gICAgY2xhc3NMaXN0ID0gYCR7Y2xhc3NMaXN0fSBjb21wbGV0ZWRgO1xuICB9XG4gIGlmIChpdGVtLmlzRWRpdGluZykge1xuICAgIGNsYXNzTGlzdCA9IGAke2NsYXNzTGlzdH0gZWRpdGluZ2A7XG4gIH1cbiAgcmV0dXJuIGNsYXNzTGlzdC50cmltKCk7XG59XG5cbi8vIGdldCB0eXBlIGZvciBmaWx0ZXJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9wKHByb3A6IHN0cmluZywgaGFzaDpzdHJpbmcpIHtcbiAgbGV0IHR5cGU6c3RyaW5nID0gJ2FsbCc7XG4gIGxldCB1cmw6c3RyaW5nID0gJy8nO1xuICBpZiAoaGFzaCA9PT0gJyMvJykgeyB0eXBlID0gJ2FsbCc7IHVybCA9ICcvJzsgfVxuICBpZiAoaGFzaCA9PT0gJyMvYWN0aXZlJykgeyB0eXBlID0gJ2FjdGl2ZSc7IHVybCA9ICcvYWN0aXZlJzsgfVxuICBpZiAoaGFzaCA9PT0gJyMvY29tcGxldGVkJykgeyB0eXBlID0gJ2NvbXBsZXRlZCc7IHVybCA9ICcvY29tcGxldGVkJzsgfVxuICBpZiAocHJvcCA9PT0gJ3R5cGUnKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuLy8gZ2VuZXJhdGUgcmFuZG9tIGlkXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSWQoKSB7XG4gIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwgMTUpICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KTtcbn1cblxuLy8gZ2V0IGFycmF5IGluZGV4IGJ5IGl0ZW0gaWQgcHJvcFxuZXhwb3J0IGZ1bmN0aW9uIGdldEluZGV4KGFsbDpbVG9kb10sIHRvZG9JZDpzdHJpbmcpIHtcbiAgbGV0IGZvdW5kSW5kZXggPSAtMTtcbiAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGFsbC5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBjb25zdCB0b2RvID0gYWxsW2luZGV4XTtcbiAgICBpZiAodG9kby5pZCA9PT0gdG9kb0lkKSB7XG4gICAgICBmb3VuZEluZGV4ID0gaW5kZXg7XG4gICAgfVxuICB9XG4gIHJldHVybiBmb3VuZEluZGV4O1xufVxuXG4vLyByZXRybiBjb21wdXRlZCBvcHRpb25zXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZU9wdGlvbnMoc3RvcmU6U3RvcmUsIGRhdGE6W1RvZG9dKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgbGV0IGZpbHRlclN0YXRlID0ge1xuICAgIGFsbDogdHJ1ZVxuICB9O1xuICBpZiAoc3RhdGUgJiYgc3RhdGUuTWFpbiAmJiBzdGF0ZS5NYWluLnRvZG8gJiYgc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMgJiYgc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyKSB7XG4gICAgZmlsdGVyU3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIpO1xuICB9XG4gIGNvbnN0IG9wdGlvbnM6T3B0aW9ucyA9IHtcbiAgICBjb3VudFRvdGFsOiAwLFxuICAgIGNvdW50Q29tcGxldGU6IDAsXG4gICAgY291bnROb3RDb21wbGV0ZTogMCxcbiAgICBoYXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgIGlzQWxsQ29tcGxldGU6IGZhbHNlLFxuICAgIGlzRWRpdGluZzogZmFsc2UsXG4gICAgaGFzRGF0YTogZmFsc2UsXG4gICAgaXNPbmVDb3VudDogZmFsc2UsXG4gICAgZmlsdGVyOiBmaWx0ZXJTdGF0ZVxuICB9O1xuICAvLyB0b3RhbFxuICBvcHRpb25zLmNvdW50VG90YWwgPSBkYXRhLmxlbmd0aDtcbiAgLy8gY291bnRDb21wbGV0ZSwgY291bnROb3RDb21wbGV0ZVxuICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgIGlmICh0b2RvLmlzQ29tcGxldGVkKSB7XG4gICAgICBvcHRpb25zLmNvdW50Q29tcGxldGUgPSBvcHRpb25zLmNvdW50Q29tcGxldGUgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zLmNvdW50Tm90Q29tcGxldGUgPSBvcHRpb25zLmNvdW50Tm90Q29tcGxldGUgKyAxO1xuICAgIH1cbiAgICBpZiAodG9kby5pc0VkaXRpbmcpIHtcbiAgICAgIG9wdGlvbnMuaXNFZGl0aW5nID0gdHJ1ZTtcbiAgICB9XG4gIH0pO1xuICAvLyBoYXNDb21wbGV0ZWRcbiAgaWYgKG9wdGlvbnMuY291bnRDb21wbGV0ZSA+IDApIHtcbiAgICBvcHRpb25zLmhhc0NvbXBsZXRlZCA9IHRydWU7XG4gIH1cbiAgLy8gaXNBbGxDb21wbGV0ZVxuICBpZiAoZGF0YS5sZW5ndGggPT09IG9wdGlvbnMuY291bnRDb21wbGV0ZSkge1xuICAgIG9wdGlvbnMuaXNBbGxDb21wbGV0ZSA9IHRydWU7XG4gIH1cbiAgLy8gaGFzRGF0YVxuICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgb3B0aW9ucy5oYXNEYXRhID0gdHJ1ZTtcbiAgfVxuICAvLyBpc09uZUNvdW50XG4gIGlmIChvcHRpb25zLmNvdW50Tm90Q29tcGxldGUgPT09IDEpIHtcbiAgICBvcHRpb25zLmlzT25lQ291bnQgPSB0cnVlO1xuICB9XG4gIC8vIHNhdmUgZGF0YVxuICB0cnkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2Rvcy1kcm16bicsIEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVJbml0KHN0b3JlOlN0b3JlLCBoYXNoOnN0cmluZykge1xuICBsZXQgZGF0YTpbVG9kb107XG4gIHRyeSB7XG4gICAgZGF0YSA9IDxbVG9kb10+SlNPTi5wYXJzZSg8YW55PmxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2Rvcy1kcm16bicpKTtcbiAgICAvLyByZW1vdmUgZWRpdGluZyB3aGVuIGxvYWRpbmcgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICAgIHRvZG8uaXNFZGl0aW5nID0gZmFsc2U7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gIH1cblxuICBpZiAoIWRhdGEpIHtcbiAgICBkYXRhID0gPGFueT5bXTtcbiAgfVxuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgY29uc3QgdHlwZSA9IGdldFByb3AoJ3R5cGUnLCBoYXNoKTtcbiAgb3B0aW9ucy5maWx0ZXIgPSA8YW55Pnt9O1xuICBvcHRpb25zLmZpbHRlclt0eXBlXSA9IHRydWU7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbi8qKlxuICogQWRkcyBuZXcgdG9kbyB0byBsaXN0IG9mIHRvZG9zXG4gKiBAcGFyYW0gc3RvcmUgaW5pdGlhbGl6ZWQgcmVkdXggc3RvcmVcbiAqIEBwYXJhbSB0ZXh0IHRleHQgb2YgdGhlIG5ldyB0b2RvIGl0ZW1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVBZGQoc3RvcmU6U3RvcmUsIHRleHQ6c3RyaW5nKSB7XG4gIC8vIGdldCBjdXJyZW50IHN0YXRlXG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgLy8gY29weSB0b2RvcyBkYXRhIGZyb20gc3RhdGVcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICAvLyBzZXQgaW5pdGlhbCBzdGF0ZSB2YXJpYWJsZVxuICBsZXQgaXNWaXNpYmxlU3RhdGUgPSB0cnVlO1xuICAvLyBjaGVjayBpZiBmaWx0ZXIgY29tcGxldGVkIGlzIHRydWVcbiAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5jb21wbGV0ZWQpIHtcbiAgICBpc1Zpc2libGVTdGF0ZSA9IGZhbHNlO1xuICB9XG4gIC8vIGdlbmVyYXRlIGlkXG4gIGNvbnN0IGlkID0gcmFuZG9tSWQoKTtcbiAgLy8gcHJlcGFyZSB0b2RvIG9iamVjdFxuICBjb25zdCB0b2RvID0ge1xuICAgIGlkLFxuICAgIHRleHQ6IHRleHQudHJpbSgpLFxuICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICBpc1Zpc2libGU6IGlzVmlzaWJsZVN0YXRlXG4gIH07XG4gIC8vIGFkZCB0b2RvIG9iamVjdCB0byBjb3BpZWQgZGF0YSBsaXN0IHdpdGggdG9kb3NcbiAgZGF0YS5wdXNoKHRvZG8pO1xuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVFZGl0KHN0b3JlOlN0b3JlLCB0b2RvSWQ6c3RyaW5nLCB0ZXh0OnN0cmluZykge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgY29uc3QgZm91bmRJbmRleCA9IGdldEluZGV4KGRhdGEsIHRvZG9JZCk7XG4gIC8vIHVwZGF0ZSB0ZXh0XG4gIGRhdGFbZm91bmRJbmRleF0udGV4dCA9IHRleHQudHJpbSgpO1xuICAvLyBjYWxjIG9wdGlvbnNcbiAgY29uc3Qgb3B0aW9ucyA9IGNvbXB1dGVPcHRpb25zKHN0b3JlLCBkYXRhKTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVSZW1vdmUoc3RvcmU6U3RvcmUsIHRvZG9JZDpzdHJpbmcpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIGNvbnN0IGZvdW5kSW5kZXggPSBnZXRJbmRleChkYXRhLCB0b2RvSWQpO1xuICAvLyByZW1vdmUgaXRlbVxuICBkYXRhLnNwbGljZShmb3VuZEluZGV4LCAxKTtcbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVG9nZ2xlKHN0b3JlOlN0b3JlLCB0b2RvSWQ6c3RyaW5nKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICBjb25zdCBmb3VuZEluZGV4ID0gZ2V0SW5kZXgoZGF0YSwgdG9kb0lkKTtcbiAgLy8gdG9nZ2xlIGl0ZW1cbiAgZGF0YVtmb3VuZEluZGV4XS5pc0NvbXBsZXRlZCA9IGRhdGFbZm91bmRJbmRleF0uaXNDb21wbGV0ZWQgPyBmYWxzZSA6IHRydWU7XG4gIC8vIGhpZGUgaWYgZmlsdGVyZWRcbiAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5jb21wbGV0ZWQpIHtcbiAgICBkYXRhW2ZvdW5kSW5kZXhdLmlzVmlzaWJsZSA9IGRhdGFbZm91bmRJbmRleF0uaXNDb21wbGV0ZWQgPyB0cnVlIDogZmFsc2U7XG4gIH1cbiAgLy8gaGlkZSBpZiBmaWx0ZXJlZFxuICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmFjdGl2ZSkge1xuICAgIGRhdGFbZm91bmRJbmRleF0uaXNWaXNpYmxlID0gZGF0YVtmb3VuZEluZGV4XS5pc0NvbXBsZXRlZCA/IGZhbHNlIDogdHJ1ZSA7XG4gIH1cbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlVG9nZ2xlQWxsKHN0b3JlOlN0b3JlKSB7XG4gIGNvbnN0IHN0YXRlID0gc3RvcmUuZ2V0U3RhdGUoKTtcbiAgY29uc3QgZGF0YSA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICBsZXQgYWxsQ29tcGxldGVkID0gdHJ1ZTtcbiAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICBpZiAodG9kby5pc0NvbXBsZXRlZCA9PT0gZmFsc2UpIHtcbiAgICAgIGFsbENvbXBsZXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIC8vIGlmIGF0IGxlYXN0IG9uZSBpcyBub3QgY29tcGxldGUgLSBtYWtlIGFsbCBjb21wbGV0ZWRcbiAgLy8gaWYgYWxsIGFyZSBjb21wbGV0ZWQgLSBtYWtlIGFsbCBub3QgY29tcGxldGVkXG4gIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgaWYgKGFsbENvbXBsZXRlZCkge1xuICAgICAgdG9kby5pc0NvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgaWYgKHN0YXRlLk1haW4udG9kby5vcHRpb25zLmZpbHRlci5jb21wbGV0ZWQpIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS5NYWluLnRvZG8ub3B0aW9ucy5maWx0ZXIuYWN0aXZlKSB7XG4gICAgICAgIHRvZG8uaXNWaXNpYmxlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdG9kby5pc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmNvbXBsZXRlZCkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUuTWFpbi50b2RvLm9wdGlvbnMuZmlsdGVyLmFjdGl2ZSkge1xuICAgICAgICB0b2RvLmlzVmlzaWJsZSA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUZpbHRlckJ5KHN0b3JlOlN0b3JlLCB0eXBlID0gJ2FsbCcpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhID0gY29weShzdGF0ZS5NYWluLnRvZG8uZGF0YSk7XG4gIGlmICh0eXBlID09PSAnYWN0aXZlJykge1xuICAgIGRhdGEuZm9yRWFjaCgodG9kbzpUb2RvKSA9PiB7XG4gICAgICBpZiAodG9kby5pc0NvbXBsZXRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgICAgaWYgKHRvZG8uaXNDb21wbGV0ZWQgPT09IHRydWUpIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9kby5pc1Zpc2libGUgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZSA9PT0gJ2FsbCcpIHtcbiAgICBkYXRhLmZvckVhY2goKHRvZG86VG9kbykgPT4ge1xuICAgICAgdG9kby5pc1Zpc2libGUgPSB0cnVlO1xuICAgIH0pO1xuICB9XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICBvcHRpb25zLmZpbHRlciA9IDxhbnk+e307XG4gIG9wdGlvbnMuZmlsdGVyW3R5cGVdID0gdHJ1ZTtcbiAgcmV0dXJuIHtcbiAgICBkYXRhLFxuICAgIG9wdGlvbnNcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVSZW1vdmVDb21wbGV0ZWQoc3RvcmU6U3RvcmUpIHtcbiAgY29uc3Qgc3RhdGUgPSBzdG9yZS5nZXRTdGF0ZSgpO1xuICBjb25zdCBkYXRhVGVtcCA9IGNvcHkoc3RhdGUuTWFpbi50b2RvLmRhdGEpO1xuICAvLyByZW1vdmUgY29tcGxldGVkXG4gIGNvbnN0IGRhdGEgPSA8W1RvZG9dPmRhdGFUZW1wLmZpbHRlcigodG9kbzpUb2RvKSA9PiB0b2RvLmlzQ29tcGxldGVkID09PSBmYWxzZSk7XG4gIC8vIGNhbGMgb3B0aW9uc1xuICBjb25zdCBvcHRpb25zID0gY29tcHV0ZU9wdGlvbnMoc3RvcmUsIGRhdGEpO1xuICByZXR1cm4ge1xuICAgIGRhdGEsXG4gICAgb3B0aW9uc1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZVRvZ2dsZUVkaXQoc3RvcmU6U3RvcmUsIHRvZG9JZDpzdHJpbmcsIHR5cGU6c3RyaW5nLCB0ZXh0OnN0cmluZykge1xuICBjb25zdCBzdGF0ZSA9IHN0b3JlLmdldFN0YXRlKCk7XG4gIGNvbnN0IGRhdGEgPSBjb3B5KHN0YXRlLk1haW4udG9kby5kYXRhKTtcbiAgLy8gdG9nZ2xlIGVkaXRcbiAgZGF0YS5mb3JFYWNoKCh0b2RvOlRvZG8pID0+IHtcbiAgICB0b2RvLmlzRWRpdGluZyA9IGZhbHNlO1xuICB9KTtcbiAgaWYgKHRvZG9JZCAmJiB0eXBlID09PSAnb24nKSB7XG4gICAgY29uc3QgZm91bmRJbmRleCA9IGdldEluZGV4KGRhdGEsIHRvZG9JZCk7XG4gICAgaWYgKGZvdW5kSW5kZXggPiAtMSkge1xuICAgICAgZGF0YVtmb3VuZEluZGV4XS5pc0VkaXRpbmcgPSB0cnVlO1xuICAgIH1cbiAgfVxuICAvLyBzYXZlIHRleHQgb24gb2ZmXG4gIGlmICh0b2RvSWQgJiYgdGV4dCAmJiB0eXBlID09PSAnb2ZmJykge1xuICAgIGNvbnN0IGZvdW5kSW5kZXggPSBnZXRJbmRleChkYXRhLCB0b2RvSWQpO1xuICAgIGRhdGFbZm91bmRJbmRleF0udGV4dCA9IHRleHQ7XG4gIH1cbiAgLy8gY2FsYyBvcHRpb25zXG4gIGNvbnN0IG9wdGlvbnMgPSBjb21wdXRlT3B0aW9ucyhzdG9yZSwgZGF0YSk7XG4gIHJldHVybiB7XG4gICAgZGF0YSxcbiAgICBvcHRpb25zXG4gIH07XG59XG4iLCJleHBvcnQgY29uc3QgcGxhY2Vob2xkZXIgPSAoaHRtbCwgcHJlbG9hZGVkU3RhdGUsIHZlcnNpb24pID0+IGA8IWRvY3R5cGUgaHRtbD5cbjxodG1sIGxhbmc9XCJlblwiPlxuXHQ8aGVhZD5cblx0XHQ8bWV0YSBjaGFyc2V0PVwidXRmLThcIj5cblx0XHQ8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTFcIj5cblx0XHQ8dGl0bGU+RHJtem4g4oCiIFRvZG9NVkM8L3RpdGxlPlxuXHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiL2Nzcy9iYXNlLmNzc1wiPlxuXHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiBocmVmPVwiL2Nzcy9pbmRleC5jc3NcIj5cblx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgaHJlZj1cIi9jc3MvYXBwLmNzc1wiPlxuXHQ8L2hlYWQ+XG5cdDxib2R5PlxuXHRcdDxkaXYgaWQ9XCJyb290XCI+JHtodG1sfTwvZGl2PlxuXG5cdFx0PGZvb3RlciBjbGFzcz1cImluZm9cIj5cblx0XHRcdDxwPkRvdWJsZS1jbGljayB0byBlZGl0IGEgdG9kbzwvcD5cblx0XHRcdDxwPkNyZWF0ZWQgYnkgPGEgaHJlZj1cIm1haWx0bzphbGV4LnR6dmV0YW5vdkBnbWFpbC5jb21cIj5BbGV4IFR6dmV0YW5vdjwvYT48L3A+XG5cdFx0XHQ8cD5QYXJ0IG9mIDxhIGhyZWY9XCJodHRwOi8vdG9kb212Yy5jb21cIj5Ub2RvTVZDPC9hPjwvcD5cblx0XHQ8L2Zvb3Rlcj5cblxuXHRcdDxzY3JpcHQ+XG4gICAgICB3aW5kb3cuX19QUkVMT0FERURfU1RBVEVfXyA9ICcke3ByZWxvYWRlZFN0YXRlfSc7XG4gICAgPC9zY3JpcHQ+XG5cblx0XHQ8c2NyaXB0IHNyYz1cIi9qcy9iYXNlLmpzXCI+PC9zY3JpcHQ+XG4gICAgPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIgc3JjPVwiL2pzL21haW4uJHt2ZXJzaW9ufS5taW4uanNcIj48L3NjcmlwdD5cbiAgPC9ib2R5PlxuPC9odG1sPmA7XG4iLCJpbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gJ3NyYy9jb25maWcvYWN0aW9ucyc7XG5pbXBvcnQgeyBjcmVhdGVTdG9yZSwgYXBwbHlNaWRkbGV3YXJlIH0gZnJvbSAncmVkdXgnO1xuaW1wb3J0IGNyZWF0ZVNhZ2FNaWRkbGV3YXJlIGZyb20gJ3JlZHV4LXNhZ2EnO1xuaW1wb3J0IHsgY29tcG9zZVdpdGhEZXZUb29scyB9IGZyb20gJ3JlZHV4LWRldnRvb2xzLWV4dGVuc2lvbic7XG5cbmltcG9ydCB7IGFjdGlvblJlZHVjZXIsIGh5ZHJhdGUgfSBmcm9tICdkcm16bi1yZWR1eCc7XG5cbmV4cG9ydCBjb25zdCBzYWdhTWlkZGxld2FyZSA9IGNyZWF0ZVNhZ2FNaWRkbGV3YXJlKCk7XG5cbi8vIGV4cG9ydCBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgbmV3IHN0b3JlIGZvciBzZXJ2ZXIgc2lkZVxuZXhwb3J0IGNvbnN0IHN0b3JlQ3JlYXRlID0gKCkgPT4gY3JlYXRlU3RvcmUoYWN0aW9uUmVkdWNlcihhY3Rpb25zKSwgaHlkcmF0ZSwgY29tcG9zZVdpdGhEZXZUb29scyhhcHBseU1pZGRsZXdhcmUoc2FnYU1pZGRsZXdhcmUpKSk7XG5cbi8vIGluaXQgdGhlIHN0b3JlIG9uIGNsaWVudCBzaWRlXG5leHBvcnQgY29uc3Qgc3RvcmUgPSBzdG9yZUNyZWF0ZSgpO1xuIiwiaW1wb3J0IHsgU3RvcmUgfSBmcm9tICdyZWR1eCc7XG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gJ3NyYy9jb25maWcvYWN0aW9ucyc7XG5pbXBvcnQge1xuICBjb21wdXRlSW5pdCxcbiAgY29tcHV0ZUFkZCxcbiAgY29tcHV0ZUVkaXQsXG4gIGNvbXB1dGVSZW1vdmUsXG4gIGNvbXB1dGVUb2dnbGUsXG4gIGNvbXB1dGVUb2dnbGVBbGwsXG4gIGNvbXB1dGVGaWx0ZXJCeSxcbiAgY29tcHV0ZVJlbW92ZUNvbXBsZXRlZCxcbiAgY29tcHV0ZVRvZ2dsZUVkaXRcbiB9IGZyb20gJ3NyYy9jb25maWcvZnVuY3Rpb25zJztcblxuZXhwb3J0IGNvbnN0IFRvZG8gPSAoc3RvcmU6U3RvcmUpID0+IHtcbiAgY29uc3QgaW5pdCA9IChoYXNoOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZUluaXQoc3RvcmUsIGhhc2gpO1xuICAgIGFjdGlvbnMuaW5pdC5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgYWRkID0gKHRleHQ6c3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlQWRkKHN0b3JlLCB0ZXh0KTtcbiAgICBhY3Rpb25zLmFkZC5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgZWRpdCA9ICh0b2RvSWQ6c3RyaW5nLCB0ZXh0OnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZUVkaXQoc3RvcmUsIHRvZG9JZCwgdGV4dCk7XG4gICAgYWN0aW9ucy5lZGl0LmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmUgPSAodG9kb0lkOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZVJlbW92ZShzdG9yZSwgdG9kb0lkKTtcbiAgICBhY3Rpb25zLnJlbW92ZS5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlID0gKHRvZG9JZDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVUb2dnbGUoc3RvcmUsIHRvZG9JZCk7XG4gICAgYWN0aW9ucy50b2dnbGUuZGlzcGF0Y2goc3RvcmUsIGRhdGEsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGNvbnN0IHRvZ2dsZUFsbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVUb2dnbGVBbGwoc3RvcmUpO1xuICAgIGFjdGlvbnMudG9nZ2xlQWxsLmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCBmaWx0ZXJCeSA9ICh0eXBlOnN0cmluZykgPT4ge1xuICAgIGNvbnN0IHsgZGF0YSwgb3B0aW9ucyB9ID0gY29tcHV0ZUZpbHRlckJ5KHN0b3JlLCB0eXBlKTtcbiAgICBhY3Rpb25zLmZpbHRlckJ5LmRpc3BhdGNoKHN0b3JlLCBkYXRhLCBvcHRpb25zKTtcbiAgfTtcblxuICBjb25zdCByZW1vdmVDb21wbGV0ZWQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBvcHRpb25zIH0gPSBjb21wdXRlUmVtb3ZlQ29tcGxldGVkKHN0b3JlKTtcbiAgICBhY3Rpb25zLnJlbW92ZUNvbXBsZXRlZC5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlRWRpdGluZyA9ICh0b2RvSWQ6c3RyaW5nLCB0eXBlOnN0cmluZywgdGV4dDpzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGRhdGEsIG9wdGlvbnMgfSA9IGNvbXB1dGVUb2dnbGVFZGl0KHN0b3JlLCB0b2RvSWQsIHR5cGUsIHRleHQpO1xuICAgIGFjdGlvbnMudG9nZ2xlRWRpdGluZy5kaXNwYXRjaChzdG9yZSwgZGF0YSwgb3B0aW9ucyk7XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBpbml0LFxuICAgIGFkZCxcbiAgICBlZGl0LFxuICAgIHJlbW92ZSxcbiAgICB0b2dnbGUsXG4gICAgdG9nZ2xlQWxsLFxuICAgIGZpbHRlckJ5LFxuICAgIHJlbW92ZUNvbXBsZXRlZCxcbiAgICB0b2dnbGVFZGl0aW5nXG4gIH07XG59O1xuIiwiaW1wb3J0ICogYXMgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCAqIGFzIGNvbXByZXNzaW9uIGZyb20gJ2NvbXByZXNzaW9uJztcbi8vIGltcG9ydCAqIGFzIGh0dHAgZnJvbSAnaHR0cCc7XG5pbXBvcnQgKiBhcyBodHRwcyBmcm9tICdodHRwcyc7XG5pbXBvcnQgKiBhcyBmcyBmcm9tICdmcyc7XG5cbmltcG9ydCB7IHN0b3JlQ3JlYXRlIH0gZnJvbSAnc3JjL2NvbmZpZy9zdG9yZSc7XG5pbXBvcnQgeyBUb2RvIH0gZnJvbSAnc3JjL2NvbnRyb2xsZXJzL1RvZG9Db250cm9sbGVyJztcbmltcG9ydCB7IHBsYWNlaG9sZGVyIH0gZnJvbSAnc3JjL2NvbmZpZy9wbGFjZWhvbGRlcic7XG5cbi8vIGNvbW1lbnQgdGhpcyB0byBkaXNhYmxlIHJlYWN0XG5pbXBvcnQgeyBzc3IgfSBmcm9tICdkcm16bi1yZWFjdCc7XG5pbXBvcnQgQXBwIGZyb20gJ3NyYy9jb21wb25lbnRzL3Jvb3QnO1xuXG4vLyB1bmNvbW1lbnQgdGhpcyB0byBlbmFibGUgbXVzdGFjaGVcbi8vIGltcG9ydCB7IHNzciwgZ2V0VGVtcGxhdGVzIH0gZnJvbSAnZHJtem4tbXVzdGFjaGUnO1xuLy8gY29uc3QgdHBscyA9IHJlcXVpcmUuY29udGV4dCgnc3JjL211c3RhY2hlJywgdHJ1ZSwgL1xcLmh0bWwkLyk7XG4vLyBjb25zdCB7IHRlbXBsYXRlcywgY29udGFpbmVyIH0gPSBnZXRUZW1wbGF0ZXModHBscyk7XG5cbmNvbnN0IHZlcnNpb24gPSAnMC4wLjInO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5hcHAudXNlKGNvbXByZXNzaW9uKCkpO1xuXG5hcHAuZ2V0KCcvJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHN0b3JlID0gc3RvcmVDcmVhdGUoKTtcbiAgYXdhaXQgVG9kbyhzdG9yZSkuaW5pdCgnLycpO1xuXG4gIC8vIGNvbW1lbnQgdGhpcyB0byBkaXNhYmxlIFJlYWN0IHJlbmRlclxuICBzc3IocGxhY2Vob2xkZXIsIEFwcCwgdmVyc2lvbikucmVuZGVyKHN0b3JlLCByZXEsIHJlcyk7XG5cbiAgLy8gdW5jb21tZW50IHRoaXMgdG8gZW5hYmxlIG11c3RhY2hlIHJlbmRlclxuICAvLyBzc3IocGxhY2Vob2xkZXIsIGNvbnRhaW5lciwgdGVtcGxhdGVzLCB2ZXJzaW9uKS5yZW5kZXIoc3RvcmUsIHJlcSwgcmVzKTtcblxufSk7XG5cbmFwcC51c2UoJy8nLCBleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuXG4vLyBjb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuLy8gc2VydmVyLmxpc3Rlbihwcm9jZXNzLmVudi5QT1JUKTtcblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAga2V5OiBmcy5yZWFkRmlsZVN5bmMoJ2NlcnQua2V5JyksXG4gIGNlcnQ6IGZzLnJlYWRGaWxlU3luYygnY2VydC5jcnQnKVxufTtcblxuY29uc3Qgc2VydmVyID0gaHR0cHMuY3JlYXRlU2VydmVyKG9wdGlvbnMsIGFwcCk7XG5zZXJ2ZXIubGlzdGVuKDQ0Myk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkcm16bi1yZWFjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkcm16bi1yZWR1eFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJleHByZXNzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImZzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImh0dHBzXCIpOyIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIm9iamVjdC1wYXRoLWltbXV0YWJsZS9pbmRleFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdC1yZWR1eFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWR1eFwiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWR1eC1kZXZ0b29scy1leHRlbnNpb25cIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVkdXgtc2FnYVwiKTsiXSwic291cmNlUm9vdCI6IiJ9